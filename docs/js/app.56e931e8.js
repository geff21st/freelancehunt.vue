(function(e){function t(t){for(var r,c,a=t[0],s=t[1],u=t[2],l=0,p=[];l<a.length;l++)c=a[l],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);j&&j(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var a=n[c];0!==o[a]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},c={app:0},o={app:0},i=[];function a(e){return s.p+"js/"+({helpPage:"helpPage",projectPage:"projectPage"}[e]||e)+"."+{helpPage:"d0595bf3",projectPage:"8ab3856e"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={projectPage:1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var r="css/"+({helpPage:"helpPage",projectPage:"projectPage"}[e]||e)+"."+{helpPage:"31d6cfe0",projectPage:"87e5a0e9"}[e]+".css",o=s.p+r,i=document.getElementsByTagName("link"),a=0;a<i.length;a++){var u=i[a],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===o))return t()}var p=document.getElementsByTagName("style");for(a=0;a<p.length;a++){u=p[a],l=u.getAttribute("data-href");if(l===r||l===o)return t()}var j=document.createElement("link");j.rel="stylesheet",j.type="text/css",j.onload=t,j.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete c[e],j.parentNode.removeChild(j),n(i)},j.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(j)})).then((function(){c[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=a(e);var p=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(j);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",p.name="ChunkLoadError",p.type=r,p.request=c,n[1](p)}o[e]=void 0}};var j=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var p=0;p<u.length;p++)t(u[p]);var j=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"13ea":function(e,t,n){"use strict";n("33e3")},"2efe":function(e,t,n){},3175:function(e,t,n){},"33e3":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c=Object(r["f"])("img",{alt:"Vue logo",class:"logo",src:"https://freelancehunt.com/static/images/logo/freelancehunt-ru.svg?v3"},null,-1),o={id:"nav"},i=Object(r["g"])("Список проектов"),a=Object(r["g"])(" | "),s=Object(r["g"])("Помощь"),u={class:""},l=Object(r["f"])("p",null,"Введите API-токен",-1);function p(e,t,n,p,j,f){var d=Object(r["x"])("router-link"),b=Object(r["x"])("router-view");return Object(r["q"])(),Object(r["e"])(r["a"],null,[c,Object(r["f"])("div",o,[Object(r["h"])(d,{to:"/"},{default:Object(r["E"])((function(){return[i]})),_:1}),a,Object(r["h"])(d,{to:"/help"},{default:Object(r["E"])((function(){return[s]})),_:1})]),Object(r["f"])("div",u,[l,Object(r["F"])(Object(r["f"])("input",{type:"text",class:"token input","onUpdate:modelValue":t[0]||(t[0]=function(e){return f.apiToken=e})},null,512),[[r["C"],f.apiToken]])]),Object(r["h"])(b)],64)}var j={computed:{apiToken:{get:function(){return this.$store.state.apiToken},set:function(e){this.$store.dispatch("updateApiToken",e)}}}},f=(n("7ef3"),n("6b0d")),d=n.n(f);const b=d()(j,[["render",p]]);var O=b,m=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),h={class:"home"};function g(e,t,n,c,o,i){var a=Object(r["x"])("projects-list");return Object(r["q"])(),Object(r["e"])("div",h,[Object(r["h"])(a)])}n("b0c0");var v=function(e){return Object(r["t"])("data-v-9d77d752"),e=e(),Object(r["r"])(),e},P={class:"hello"},k=v((function(){return Object(r["f"])("h3",null,"Список проектов",-1)})),y={key:0,class:"projects-list"},L=["onClick"],w=["textContent"],T={key:0},q=Object(r["g"])(" Бюджет: "),C={key:0},A=Object(r["g"])(" Необходимые навыки: "),x=["innerHTML"],_={key:1,class:"projects-list projects-list--loading"},I=Object(r["g"])(" Загрузка списка проектов "),E=v((function(){return Object(r["f"])("span",null,"...",-1)})),S=[I,E];function B(e,t,n,c,o,i){var a=Object(r["x"])("projects-list-filter"),s=Object(r["x"])("projects-list-pager");return Object(r["q"])(),Object(r["e"])("div",P,[k,Object(r["h"])(a),e.projectsList&&e.projectsList.length?(Object(r["q"])(),Object(r["e"])("div",y,[Object(r["h"])(s),Object(r["f"])("ul",null,[(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["w"])(e.projectsList,(function(e,t){return Object(r["q"])(),Object(r["e"])("li",{key:t,class:"projects-item",onClick:function(t){return i.openProject(e)}},[Object(r["f"])("p",null,[Object(r["f"])("strong",{textContent:Object(r["z"])(e.name)},null,8,w)]),Object(r["f"])("p",null,[e.formattedAmount?(Object(r["q"])(),Object(r["e"])("span",T,[q,Object(r["f"])("strong",null,Object(r["z"])(e.formattedAmount),1)])):Object(r["d"])("",!0)]),e.skills?(Object(r["q"])(),Object(r["e"])("p",C,[A,(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["w"])(e.skills,(function(e,t){return Object(r["q"])(),Object(r["e"])("strong",{key:t,innerHTML:"<br>— "+e.name},null,8,x)})),128))])):Object(r["d"])("",!0)],8,L)})),128))]),Object(r["h"])(s)])):(Object(r["q"])(),Object(r["e"])("div",_,S))])}var F=n("5530"),H=n("5502"),N={key:0,class:"project-nav-pager"},U=["href"],M=["href"];function R(e,t,n,c,o,i){return e.projectsLinks&&!e.areProjectsFiltered?(Object(r["q"])(),Object(r["e"])("div",N,[e.projectsLinks.prev?(Object(r["q"])(),Object(r["e"])("a",{key:0,href:e.projectsLinks.prev,onClick:t[0]||(t[0]=function(){return i.loadNewItems&&i.loadNewItems.apply(i,arguments)})},"Пред.",8,U)):Object(r["d"])("",!0),e.projectsLinks.next?(Object(r["q"])(),Object(r["e"])("a",{key:1,href:e.projectsLinks.next,onClick:t[1]||(t[1]=function(){return i.loadNewItems&&i.loadNewItems.apply(i,arguments)})},"След.",8,M)):Object(r["d"])("",!0)])):Object(r["d"])("",!0)}var V={name:"ProjectsListPager",data:function(){return{}},computed:Object(F["a"])(Object(F["a"])({},Object(H["d"])(["projectsLinks"])),Object(H["c"])(["areProjectsFiltered"])),methods:Object(F["a"])(Object(F["a"])({},Object(H["b"])(["loadProjectsList"])),{},{loadNewItems:function(e){e.preventDefault(),this.loadProjectsList(e.target.href)}}),mounted:function(){}};n("9ecb");const z=d()(V,[["render",R],["__scopeId","data-v-f918c35a"]]);var D=z,G=function(e){return Object(r["t"])("data-v-204646a6"),e=e(),Object(r["r"])(),e},J={class:"projects-filter"},$=G((function(){return Object(r["f"])("span",null,"Поиск по тексту в названии или описании проекта",-1)})),K=G((function(){return Object(r["f"])("span",null,"Поиск минимальному бюджету",-1)})),Q={class:"input input-row"},W=G((function(){return Object(r["f"])("option",{value:"RUB"},"Рубль",-1)})),X=G((function(){return Object(r["f"])("option",{value:"UAH"},"Гривна",-1)})),Y=[W,X];function Z(e,t,n,c,o,i){return Object(r["q"])(),Object(r["e"])("div",J,[Object(r["f"])("label",null,[$,Object(r["F"])(Object(r["f"])("input",{class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.query=e})},null,512),[[r["C"],o.query]])]),Object(r["f"])("label",null,[K,Object(r["f"])("span",Q,[Object(r["F"])(Object(r["f"])("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.minPrice=e})},null,512),[[r["C"],o.minPrice]]),Object(r["F"])(Object(r["f"])("select",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.priceCurrency=e})},Y,512),[[r["B"],o.priceCurrency]])])])])}var ee={name:"ProjectsListFilter",data:function(){return{query:"",minPrice:"",priceCurrency:"RUB"}},computed:{},methods:Object(F["a"])({},Object(H["b"])(["searchProjects","filterProjectsByMinPrice"])),mounted:function(){},watch:{query:function(e){this.searchProjects(e)},minPrice:function(e){this.filterProjectsByMinPrice({minPrice:e,priceCurrency:this.priceCurrency})}}};n("ce25");const te=d()(ee,[["render",Z],["__scopeId","data-v-204646a6"]]);var ne=te,re={name:"ProjectsList",components:{ProjectsListFilter:ne,ProjectsListPager:D},data:function(){return{}},methods:Object(F["a"])(Object(F["a"])({},Object(H["b"])(["loadProjectsList"])),{},{openProject:function(e){var t=e.id;pe.push({name:"ProjectPage",params:{id:t}})}}),computed:Object(F["a"])({},Object(H["d"])(["projectsList"])),mounted:function(){this.loadProjectsList()}};n("13ea");const ce=d()(re,[["render",B],["__scopeId","data-v-9d77d752"]]);var oe=ce,ie={name:"HomePage",components:{ProjectsList:oe}};const ae=d()(ie,[["render",g]]);var se=ae,ue=[{path:"/",name:"Home",component:se},{path:"/project/:id",name:"ProjectPage",component:function(){return n.e("projectPage").then(n.bind(null,"adf5"))}},{path:"/help",name:"HelpPage",component:function(){return n.e("helpPage").then(n.bind(null,"f957"))}}],le=Object(m["a"])({history:Object(m["b"])(),routes:ue}),pe=le,je=(n("4de4"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("d4ec")),fe=n("bee2"),de=n("ade3"),be=(n("159b"),n("bc3a")),Oe=n.n(be),me="https://api.freelancehunt.com/v2/projects",he=function(){function e(t){Object(je["a"])(this,e),Object(de["a"])(this,"apiToken",void 0),this.apiToken=t}return Object(fe["a"])(e,[{key:"sendApiGetRequest",value:function(e){var t=e.url;return Oe.a.get(t,{headers:{Authorization:"Bearer "+this.apiToken}})}},{key:"loadProjectsList",value:function(e){var t=this;return new Promise((function(n,r){t.sendApiGetRequest({url:e||me}).catch(r).then((function(e){var c=e.data,o=void 0===c?null:c;console.log({data:o});var i=[];o||r();var a=o.data||null;(!a||a.length<=0)&&r(),console.log({responseProjects:a}),a.forEach((function(e){i.push(t.formatProjectsListItem(e))})),n({projects:i,links:o.links||null})}))}))}},{key:"loadProjectItem",value:function(e){var t=this;return new Promise((function(n,r){t.sendApiGetRequest({url:"".concat(me,"/").concat(e)}).catch(r).then((function(e){var r=e.data,c=void 0===r?null:r;console.log("123"),n({project:t.formatProjectsListItem(c.data||null)})}))}))}},{key:"formatProjectsListItem",value:function(e){return function(t){var n=t.name,r=void 0===n?"":n,c=t.skills,o=void 0===c?"":c,i=t.budget,a=void 0===i?null:i,s=t.description_html,u=void 0===s?null:s,l=t.published_at,p=void 0===l?null:l,j="";if(a&&a.amount>0)switch(j=a.amount.toLocaleString("ru"),a.currency){case"RUB":j+=" ₽";break;case"UAH":j+=" ₴";break}var f=null;return e.links&&e.links.self&&e.links.self.web&&(f=e.links.self.web),{id:e.id,descriptionHtml:u,publishedAt:p,url:f,name:r,skills:o,budget:a,formattedAmount:j}}(e.attributes||{})}}]),e}(),ge=Object(H["a"])({state:{apiToken:"3d7a8aee3acdf26b92770754c3b2780606cdd157",projectsList:[],projectsOriginalList:[],projectsLinks:[]},mutations:{updateApiToken:function(e,t){e.apiToken=t},updateProjectsList:function(e,t){e.projectsList=t},updateProjectsOriginalList:function(e,t){e.projectsOriginalList=t},updateProjectsLinks:function(e,t){e.projectsLinks=t}},getters:{apiService:function(e){return e.apiToken?new he(e.apiToken):null},areProjectsFiltered:function(e){return e.projectsList!==e.projectsOriginalList}},actions:{updateApiToken:function(e,t){var n=e.commit,r=e.dispatch;n("updateApiToken",t),r("loadProjectsList")},loadProjectsList:function(e){var t=e.state,n=e.commit,r=e.getters,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.apiToken&&r.apiService&&r.apiService.loadProjectsList(c).then((function(e){var t=e.projects,r=e.links;n("updateProjectsList",t),n("updateProjectsOriginalList",t),n("updateProjectsLinks",r)}))},searchProjects:function(e,t){var n=e.state,r=e.commit,c=[];c=t?n.projectsOriginalList?n.projectsOriginalList.filter((function(e){var n=new RegExp(t,"iug");return console.log(e,e.name.match(n)),e.name.match(n)||e.descriptionHtml.match(n)})):[]:n.projectsOriginalList,r("updateProjectsList",c)},filterProjectsByMinPrice:function(e,t){var n=e.state,r=e.commit,c=t.minPrice,o=t.priceCurrency,i=[];console.log({minPrice:c,priceCurrency:o}),i=c?n.projectsOriginalList?n.projectsOriginalList.filter((function(e){return console.log(e.budget,c,o),e.budget&&e.budget.currency===o&&e.budget.amount<=c})):[]:n.projectsOriginalList,r("updateProjectsList",i)}},modules:{}});Object(r["c"])(O).use(ge).use(pe).mount("#app")},"7ef3":function(e,t,n){"use strict";n("ff39")},"9ecb":function(e,t,n){"use strict";n("2efe")},ce25:function(e,t,n){"use strict";n("3175")},ff39:function(e,t,n){}});
//# sourceMappingURL=app.56e931e8.js.map